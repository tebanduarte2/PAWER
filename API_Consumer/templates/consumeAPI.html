{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container my-5">
    {% if error_message %}
        {# Display an error message if data fetching failed #}
        <div class="alert alert-danger" role="alert">
            {{ error_message }}
        </div>
    {% elif nft %}
        {# Display NFT details if data was fetched successfully #}
        <h1 class="text-center text-primary fw-bold">{{ nft.name }}</h1>

        <div class="card shadow-lg p-4">
            <div class="row">
                <div class="col-md-6">
                    {# Display the NFT image #}
                    {% if nft.image_url %}
                        <img src="{{ nft.image_url }}" alt="{{ nft.name }}" class="img-fluid rounded mb-3">
                    {% else %}
                        {# Optional: Display a placeholder if image_url is missing #}
                        <img src="{% static 'placeholder.png' %}" alt="No image available" class="img-fluid rounded mb-3">
                    {% endif %}
                </div>
                <div class="col-md-6">
                    <h2 class="text-secondary">Detalles del NFT</h2>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"><strong>ID:</strong> {{ nft.nft_id }}</li>
                        <li class="list-group-item"><strong>Precio:</strong> {{ nft.price }}</li>
                        {# Optional: Format price if needed, e.g., using a custom filter #}
                        {# <li class="list-group-item"><strong>Precio:</strong> ${{ nft.price|floatformat:2 }}</li> #}
                    </ul>

                    <h3 class="mt-4 text-secondary">Descripci√≥n</h3>
                    <p>{{ nft.description }}</p>

                    {% if nft.rarible_url %}
                        <div class="mt-4">
                            <a href="{{ nft.rarible_url }}" class="btn btn-outline-primary" target="_blank" rel="noopener noreferrer">
                                Ver en Rarible
                            </a>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    {% else %}
        {# Fallback message if no data and no specific error #}
        <p class="text-center">No NFT data available.</p>
    {% endif %}
</div>
{% endblock %}
